<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ant Farm Simulator</title>
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="ant-farm.css">
</head>
<body>
    <header id="site-header">
        <nav>
            <a href="index.html">Home</a> |
            <a href="rps.html">RPS</a> |
            <a href="art.html">Art</a> |
            <a href="ant-farm.html">Ant Farm</a>
        </nav>
    </header>
    <main>
        <div class="controls-parent">
            <div class="controls-section">
                <h1>Ant Controls</h1>
                <button id="add-ant">Add Ant</button>
                <label for="mating-slider">Mating Conditions:</label>
                <input type="range" id="mating-slider" min="1" max="100" value="20">
                <label for="lifespan-slider-normal">Normal Ant Lifespan (seconds):</label>
                <input type="range" id="lifespan-slider-normal" min="10" max="300" value="120">
            </div>
            <div class="controls-section">
                <h2>Red Ant Controls</h2>
                <button id="add-red-ant">Add Red Ant</button>
                <label for="lifespan-slider-red">Red Ant Lifespan (seconds):</label>
                <input type="range" id="lifespan-slider-red" min="10" max="300" value="120">
                <label><input type="checkbox" id="allow-red-breeding" checked> Allow Red Ant Breeding</label>
                <label for="red-aggression-slider">Red Ant Aggression:</label>
                <input type="range" id="red-aggression-slider" min="0" max="100" value="50">
            </div>
            <div class="controls-section">
                <label for="food-type">Select Food:</label>
                <select id="food-type">
                    <option value="sugar">Sugar (white)</option>
                    <option value="protein">Protein (green)</option>
                    <option value="spoiled">Spoiled (blue)</option>
                    <option value="poison">Poison (purple)</option>
                </select>
            </div>
            <div class="controls-section danger-zone">
                <h2 style="color: red;">Danger Zone</h2>
                <button id="kill-red-ants" class="kill-all">Kill All Red Ants</button>
                <button id="kill-all-ants" class="kill-all">Kill All Ants</button>
                <button id="destroy-world" class="kill-all">Destroy World</button>
            </div>
            <div id="stats" class="controls-section">
                Total Alive: 0<br>
                White Ants: Alive: 0 | Born: 0 | Dead: 0<br>
                Red Ants: Alive: 0 | Born: 0 | Dead: 0
            </div>
            <div class="controls-section">
                <h2>User Controls</h2>
                <button id="pause-resume">Pause</button>
            </div>
        </div>
        <canvas id="antCanvas" width="1000" height="600"></canvas>
    </main><<script>
function moveAndDrawAnts() {
    adjustHappiness();
    if (whiteHappiness >= 75 && !queens.white) queens.white = createAnt(false, true);
    if (whiteHappiness < 25 && !queens.red) queens.red = createAnt(true, true);

    ants.forEach(ant => {
        ant.wanderAngle += (Math.random() - 0.5) * 0.2;
        ant.angle += Math.sin(ant.wanderAngle) * 0.05;

        if (ant.isRed) {
            const target = ants.find(a => !a.isRed);
            if (target) {
                const angleToTarget = Math.atan2(target.y - ant.y, target.x - ant.x);
                ant.angle += (angleToTarget - ant.angle) * (redAggressionLevel / 100);
                if (Math.hypot(ant.x - target.x, ant.y - target.y) < 10) {
                    ants.splice(ants.indexOf(target), 1);
                    totalDeadWhite++;
                    updateStats();
                }
            }
        } else if (foods.length > 0) {
            const nearestFood = foods.reduce((a, b) => ((a.x - ant.x) ** 2 + (a.y - ant.y) ** 2) < ((b.x - ant.x) ** 2 + (b.y - ant.y) ** 2) ? a : b);
            const angleToFood = Math.atan2(nearestFood.y - ant.y, nearestFood.x - ant.x);
            ant.angle += (angleToFood - ant.angle) * 0.1;
            if (Math.hypot(ant.x - nearestFood.x, ant.y - nearestFood.y) < 10) foods.splice(foods.indexOf(nearestFood), 1);
        }

        ant.x += Math.cos(ant.angle) * ant.speed;
        ant.y += Math.sin(ant.angle) * ant.speed;
        if (ant.x < 0) ant.x = canvas.width;
        if (ant.x > canvas.width) ant.x = 0;
        if (ant.y < 0) ant.y = canvas.height;
        if (ant.y > canvas.height) ant.y = 0;

        ant.lifespan -= 16;
        if (ant.lifespan <= 0 && !ant.isQueen) {
            if (ant.isRed) totalDeadRed++; else totalDeadWhite++;
            ants.splice(ants.indexOf(ant), 1);
            updateStats();
            return;
        }
        ant.breedingTimer += 16;
        if (ant.breedingTimer >= matingSpeed) {
            tryBreeding(ant);
            ant.breedingTimer = 0;
        }
    });

    if (queens.white) spawnFromQueen(queens.white);
    if (queens.red) spawnFromQueen(queens.red);

    ants.forEach(drawAnt);
}
</script>
    </body>
</html>