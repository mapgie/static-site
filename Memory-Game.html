<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Distortion Game</title>
<style>
  body {
    background: #111;
    color: #eee;
    font-family: monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    text-align: center;
  }
  .shape {
    width: 50px;
    height: 50px;
    margin: 10px;
    display: inline-block;
  }
  .hidden {
    display: none;
  }
  button {
    margin-top: 20px;
    padding: 10px 20px;
    background: #444;
    border: none;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background: #666;
  }
</style>
</head>
<body><h1>Remember These Shapes</h1>
<div id="shapes"></div>
<button id="start">Start</button>
<div id="question" class="hidden">
  <p>Which shape was here?</p>
  <div id="options"></div>
</div>
<div id="result"></div><script>
const colors = ['red', 'blue', 'green', 'yellow', 'purple'];
const shapesContainer = document.getElementById('shapes');
const startButton = document.getElementById('start');
const questionDiv = document.getElementById('question');
const optionsDiv = document.getElementById('options');
const resultDiv = document.getElementById('result');

let originalShapes = [];
let correctAnswer = '';

function createShape(color) {
  const div = document.createElement('div');
  div.className = 'shape';
  div.style.backgroundColor = color;
  return div;
}

function randomizeColors() {
  let distorted = colors.slice();
  // Subtle distortion: swap one color
  if (Math.random() < 0.8) {
    let i = Math.floor(Math.random() * distorted.length);
    distorted[i] = 'orange'; // An intruder color
  }
  return distorted;
}

function showShapes() {
  shapesContainer.innerHTML = '';
  originalShapes = [];
  const chosenColors = [...colors].sort(() => 0.5 - Math.random()).slice(0, 3);
  chosenColors.forEach(color => {
    const shape = createShape(color);
    shapesContainer.appendChild(shape);
    originalShapes.push(color);
  });
}

function askQuestion() {
  shapesContainer.classList.add('hidden');
  questionDiv.classList.remove('hidden');

  optionsDiv.innerHTML = '';
  let distortedColors = randomizeColors();
  correctAnswer = originalShapes[Math.floor(Math.random() * originalShapes.length)];

  distortedColors.forEach(color => {
    const btn = document.createElement('button');
    btn.textContent = color;
    btn.onclick = () => checkAnswer(color);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(selected) {
  if (selected === correctAnswer) {
    resultDiv.innerHTML = '<p style="color:lightgreen">Correct (for now...)</p>';
  } else {
    resultDiv.innerHTML = '<p style="color:red">Wrong. Are you sure you remembered?</p>';
  }
  startButton.textContent = 'Play Again';
  startButton.classList.remove('hidden');
}

startButton.onclick = () => {
  resultDiv.innerHTML = '';
  questionDiv.classList.add('hidden');
  shapesContainer.classList.remove('hidden');
  startButton.classList.add('hidden');
  showShapes();
  setTimeout(askQuestion, 5000); // 5 seconds to memorize
};
</script></body>
</html>